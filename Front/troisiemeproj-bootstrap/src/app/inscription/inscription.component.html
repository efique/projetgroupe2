<h1>Inscription</h1>
<div class="inscription container-fluid">
  <form [formGroup]="inscriptionForm" (ngSubmit)="onSubmit()">
    <div formGroupName="details" class="details form-group">

      <label>Nom</label>
      <input name="nom" id="nom" class="form-control" type="text" formGroupName="inscriptionForm" required/>
      <div *ngIf="nom.errors && (nom.dirty || nom.touched)" class="alert alert-danger">
        <div [hidden]="!nom.errors.required">
          Le nom est requis!
        </div>
      </div>

      <label>Prénom</label>
      <input name="prenom" id="prenom" class="form-control" type="text" formControlName="prenom" required/>
      <div *ngIf="prenom.errors && (prenom.dirty || prenom.touched)" class="alert alert-danger">
        <div [hidden]="!prenom.errors.required">
          Le prénom est requis!
        </div>
      </div>

      <label>Téléphone</label>
      <input name="telephone" id="telephone" class="form-control" type="text" formControlName="telephone" required/>
      <div *ngIf="telephone.errors && (telephone.dirty || telephone.touched)" class="alert alert-danger">
        <div [hidden]="!telephone.errors.required">
          Le téléphone est requis!
        </div>
      </div>
    </div>

    <div formGroupName="localisations" class="localisations form-group">

      <label>Rue</label>
      <input name="rue" id="rue" class="form-control" type="text" formControlName="rue" required/>
      <div *ngIf="rue.errors && (rue.dirty || rue.touched)" class="alert alert-danger">
        <div [hidden]="!rue.errors.required">
          La rue est requise!
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-6">
          <label>Numéro de rue</label>
          <input name="numero" id="numero" class="form-control" type="number" formControlName="numero" required/>
          <div *ngIf="numero.errors && (numero.dirty || numero.touched)" class="alert alert-danger">
            <div [hidden]="!numero.errors.required">
              Le numéro de rue est requis!
            </div>
          </div>
        </div>

        <div class="form-group col-md-6">
          <label>Code postal</label>
          <input name="postal" id="postal" class="form-control" type="number" formControlName="postal" required/>
          <div *ngIf="postal.errors && (postal.dirty || postal.touched)" class="alert alert-danger">
            <div [hidden]="!postal.errors.required">
              Le code postal est requis!
            </div>
          </div>
        </div>
      </div>

      <label>Ville</label>
      <input name="ville" id="ville" class="form-control" type="text" formControlName="ville" required/>
      <div *ngIf="ville.errors && (ville.dirty || ville.touched)" class="alert alert-danger">
        <div [hidden]="!ville.errors.required">
          La ville est requise!
        </div>
      </div>
    </div>

    <div formGroupName="localisations" class="localisations form-group">

      <label>E-Mail</label>
      <input name="mail" id="mail" class="form-control" type="email" formControlName="mail" required/>
      <div *ngIf="mail.errors && (mail.dirty || mail.touched)" class="alert alert-danger">
        <div [hidden]="!mail.errors.required">
          Le mail est requis!
        </div>
      </div>  

      <label>Mot de passe</label>
      <input name="password" id="password" class="form-control" type="password" formControlName="password" required/>
      <div *ngIf="password.errors && (password.dirty || password.touched)" class="alert alert-danger">
        <div [hidden]="!password.errors.required">
          Le mot de passe est requis!
        </div>
      </div>

      <label>Confirmation mot de passe</label>
      <input name="confirmation" id="confirmation" class="form-control" type="password" required/>
      <div *ngIf="confirmation.errors && (confirmation.dirty || confirmation.touched)" class="alert alert-danger">
        <div [hidden]="!confirmation.errors.required">
          La confirmation du mot de passe est requise!
        </div>
      </div>
    </div>

    <button mwlConfirmationPopover
              [popoverTitle]="'Confirmation'"
              [popoverMessage]="'êtes-vous sûr?'"
              placement="top"
              (confirm)="createInscription(inscription)"
              type="submit" class="btn btn-save btn-primary disabled" [disabled]="!inscriptionForm.valid">
        <span class="glyphicon glyphicon-floppy-disk"></span> S'inscrire
      </button>
  </form>

  <p>Form value {{ inscriptionForm.value | json }} </p>
  <p>Form status {{ inscriptionForm.status | json}} </p>
</div>
